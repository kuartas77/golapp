let yearsInput=$("#years"),scheduleSelect=0;const resetModalForm=(e=!0,a)=>{let t=$("#form_create"),d=$("#modal_title");e?(d.html("Agregar Nuevo Grupo"),t.prop("action",url_current),t.prop("method","POST")):(d.html("Actualizar Grupo De Entrenamiento."),t.prop("action",url_current+a),t.append("<input name='_method' id='method' value='PUT' type='hidden'>"))},getSchedule=(e,a=0)=>{$.get(url_days+e,(({data:e})=>{$("#schedule_id").empty(),$("#schedule_id").append(new Option("Seleccione...","")),$.each(e,((e,a)=>{$("#schedule_id").append(new Option(a.name,a.id))})),0!==a&&$("#schedule_id").val(a)}))};$(document).ready((()=>{$("#active_table").DataTable({lengthMenu:[[15,30,50,70,100],[15,30,50,70,100]],processing:!0,serverSide:!0,ajax:$.fn.dataTable.pipeline({url:url_enabled,pages:5}),columns:[{data:"full_schedule_group"},{data:"professor.name"},{data:"id",render:(e,a,t,d)=>'<form method="POST" action="'+t.url_destroy+'" accept-charset="UTF-8"><input name="_method" type="hidden" value="DELETE"><input name="_token" type="hidden" value="'+t.token+'"><div class="btn-group"><a href="javascript:void(0)" class="edit btn btn-default btn-xs" data-id="'+t.id+'"><i class="fas fa-pencil-alt"></i></a></div></form>'}],order:[[0,"desc"]]}),$("#disabled_table").DataTable({lengthMenu:[[5,10,30,50,70,100],[5,10,30,50,70,100]],processing:!0,serverSide:!0,ajax:$.fn.dataTable.pipeline({url:url_disabled,pages:5}),columns:[{data:"full_schedule_group"},{data:"professor.name"}],order:[[0,"desc"]]}),yearsInput.multiSelect(),$("#form_create").validate({rules:{name:{required:!0},user_id:{required:!0},day_id:{required:!0},schedule_id:{required:!0},"years[]":{required:!0,minlength:1,maxlength:12}},messages:{"years[]":{maxlength:"No Seleccione MÃ¡s De 12 Opciones."}},submitHandler(e){e.submit()}}),$("#active_table tbody").on("click","a.edit",(function(){let e=$(this).data("id");$.get(url_current+e+"/edit",(({data:a})=>{null!=a&&(scheduleSelect=a.schedule_id,resetModalForm(!1,e),getSchedule(a.schedule.day_id,scheduleSelect),$("#name").val(a.name),$("#user_id").val(a.user_id),$("#day_id").val(a.schedule.day_id).trigger("change"),yearsInput.multiSelect("deselect_all"),yearsInput.multiSelect("select",a.years),$("#create").modal("show"))}))})),$(".btn-create").on("click",(function(){$("#name").val(""),$("#user_id").val(""),$("#day_id").val(""),yearsInput.multiSelect("deselect_all"),$("#method").val(""),$("#schedule_id").empty()})),$("#day_id").on("change",(function(){getSchedule($(this).val(),scheduleSelect)}))}));
